syntax = "proto3";

package proto;
option go_package = "starbit/proto";

service Game {
  rpc JoinGame (JoinRequest) returns (Empty) {}
  rpc SubscribeToTicks (Empty) returns (stream TickUpdate) {}
}

message Empty {}

message JoinRequest {
  string username = 1;
}

message Player {
  string id = 1;
  string name = 2;
}

message System {
  int32 x = 1;
  int32 y = 2;
}

message GalaxyState {
  repeated System systems = 1;
}

message GameState {
  int32 player_count = 1;
  repeated Player players = 2;
  GalaxyState galaxy = 3;
  bool game_started = 4;
}

message TickUpdate {
  GameState State = 1;
} 